# üéì StudyBuddyBot (aiogram 3 + SQLModel + Docker)

> **Telegram-–±–æ—Ç –¥–ª—è —É—á—ë–±—ã –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** –¥–æ–±–∞–≤–ª—è–π –∑–∞–¥–∞—á–∏, –æ—Ç–º–µ—á–∞–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–ª—É—á–∞–π –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ –≤–µ–¥–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –Ω–µ–¥–µ–ª—é.  
> –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Telegram-–±–æ—Ç–æ–≤, —á–∏—Å—Ç–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π DevOps-–ø–∞–π–ø–ª–∞–π–Ω.

<p align="center">
  <img src="docs/example1.gif" width="720">
  <img src="docs/example2.gif" width="720">
</p>

[![Docker Pulls](https://img.shields.io/docker/pulls/mihailberd/studybuddybot)](https://hub.docker.com/r/mihailberd/studybuddybot)
[![License](https://img.shields.io/github/license/BerdnikovM/Telegram_StudyBuddyBot)](LICENSE)

---

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ —Ñ–∏—á–∏

| –§–∏—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ/–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ                                  |
|------|--------------------------------------------------------|
| **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π aiogram 3** | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π FSM, Router, –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞–ø–¥–µ–π—Ç–æ–≤ |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏** | /add, /list, /done, /edit, /delete ‚Äî CRUD-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å    |
| **–£–º–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** | –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 19:00 MSK                                  |
| **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** | /stats: –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π              |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLModel** | –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: User, Task. Postgres-ready          |
| **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** | /users ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä, /broadcast ‚Äî —Ä–∞—Å—Å—ã–ª–∫–∞               |
| **RBAC –¥–ª—è –∞–¥–º–∏–Ω–æ–≤** | –¢–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ ID –º–æ–≥—É—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥–∞–º–∏          |
| **–î–µ–ø–ª–æ–π –≤ Docker** | –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è: –ø—Ä–æ—Å—Ç–æ, –±—ã—Å—Ç—Ä–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ          |
| **–ì–æ—Ç–æ–≤ –∫ cloud‚Äë–¥–µ–ø–ª–æ—é** | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ Timeweb, Render, –ª—é–±–æ–π VPS          |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

> –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: Docker 20.10+, Telegram Bot API —Ç–æ–∫–µ–Ω, PostgreSQL (–∏–ª–∏ SQLite –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞)

```
# 1. –°–æ–∑–¥–∞–π—Ç–µ `.env` –≤ –ª—é–±–æ–π —É–¥–æ–±–Ω–æ–π –ø–∞–ø–∫–µ (—Å–º. .env.example), —Å–æ–∑–¥–∞–π—Ç–µ docker-compose.yml —Ç–∞–º –∂–µ.

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª:
docker compose up -d

# 3. –ì–æ—Ç–æ–≤–æ! –ë–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Äî –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –∏–∑ `.env`.
```
> üí° **–í–∞–∂–Ω–æ:**  
> –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –Ω—É–∂–Ω–∞ PostgreSQL.  
> –ë–î –º–æ–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å —á–µ—Ä–µ–∑ Docker (–ø—Ä–∏–º–µ—Ä —Å–º. –Ω–∏–∂–µ) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é.

**docker-compose.yml (–ø—Ä–∏–º–µ—Ä):**
```
version: "3.9"

services:
  db:
    image: postgres:16
    container_name: studybuddy_postgres
    restart: always
    environment:
      POSTGRES_USER: myuser         # <-- –∏–∑–º–µ–Ω–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      POSTGRES_PASSWORD: mypassword # <-- –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å
      POSTGRES_DB: mydb             # <-- –∏–∑–º–µ–Ω–∏—Ç–µ –∏–º—è –ë–î
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"  # –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (–º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
    
  init_db:
    image: mihailberd/studybuddybot:latest 
    depends_on:
      - db
    env_file:
      - .env
    command: python -m db.init_db
    
  bot:
    image: mihailberd/studybuddybot:latest
    container_name: studybuddybot
    restart: always
    env_file:
      - .env
    depends_on:
      - db
      - init_db

volumes:
  postgres_data:

```

---
## üõ†Ô∏è –°—Ç–µ–∫ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

| –°–ª–æ–π               | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏                                   |
| ------------------ | -------------------------------------------- |
| üêç –Ø–∑—ã–∫            | **Python 3.12**                              |
| ü§ñ Telegram SDK    | **aiogram 3** (Router, Filters, FSM)         |
| üóÉÔ∏è ORM/–ë–î         | **SQLModel** + **PostgreSQL**     |
| ‚è∞ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫      | **APScheduler**                              |
| üêã –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è | **Docker** / **docker-compose**              |
| üîê Secrets         | ENV‚Äë–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: —Ç–æ–∫–µ–Ω, –±–∞–∑–∞, –∞–¥–º–∏–Ω—ã (`.env`) |
| üß™ –¢–µ—Å—Ç—ã (roadmap) | **pytest-asyncio**, GitHub Actions CI        |
| ‚òÅÔ∏è –î–µ–ø–ª–æ–π          | Timeweb Cloud, Render, –ª—é–±–æ–π VPS             |

---

## ü§ù –°–≤—è–∑–∞—Ç—å—Å—è

|            | –ö–æ–Ω—Ç–∞–∫—Ç                                                                  |
| ---------- |--------------------------------------------------------------------------|
| ‚úâ Telegram | [@MihailBerd](https://t.me/MihailBerd)                                 |
| üíº Kwork   | [https://kwork.ru/user/berdnikovmiha) |
| üìß Email   | [MihailBerdWork@ya.ru](mailto:MihailBerdWork@ya.ru)                                |
